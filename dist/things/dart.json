{
  "layout": "blog",
  "name": "dart-flutter",
  "notes": "# Dart + Flutter\n\n### Architecture\n\n#### Stack\n\n* [**redux**](https://pub.dev/packages/redux) - just as good in dart\n* [**redux_thunk**](https://pub.dev/packages/redux_thunk) - everything is an action\n* [**redux_persist**](https://pub.dev/packages/redux_persist) - control in memory and cold storage data from store\n* **flutter_secure_storage** - uses respective platform keychains to save store\n* [**dart_json_mapper**](https://pub.dev/packages/dart_json_mapper) - generates toJson/fromJson for models but does so at build time, files generated are not saved to filesystem - supports Uint8List which will be used wherever cached images are supported - **json_serializable does not support Uint8List / byte arrays in models**\n\n\n\n#### Flow\n\n* Using redux with streams\n\n  * Timer+Store vs. Stream\n\n    * The store itself is a stream that can be observed / listened to\n    * The only thing different between them is where you want the stream within the store observed from? the view or still within the store\n    * Within the store has an extra layer, but has a separation of concerns\n  * Example is initializing a chat observer after authentication\n\n    * Leaving this in the view is less friction with streams on streams\n    * But you sacrifice separation of concerns\n  * [StreamController example](https://www.woolha.com/tutorials/flutter-using-streamcontroller-and-streamsubscription)\n  * Converted to streams from using the global onChange and it's noticeably faster\n\n#### Common Patterns\n\n> JS\n>\n> ```js\n> const newUsers = users.filter(user => user.new);\n> ```\n>\n> Dart\n>\n> ```dart\n> final newUsers = users.where(user => user.new).toList();\n> ```\n\n#### UI/UX\n\n* Use containers that span the height and width of the screen when creating scroll views\n* [Implicit Animations Tutorial](https://medium.com/flutter/custom-implicit-animations-in-flutter-with-tweenanimationbuilder-c76540b47185)\n\n#### Resources\n\n* [showing a more global snackbar](https://stackoverflow.com/questions/49578529/flutter-filter-list-as-per-some-condition)\n* https://flutter.dev/docs/cookbook/forms/focus\n\n#### Redux Persist Serialization\n\n##### 1. manual serialization\n    - incredibly overwhelming for complex models\n    - seems to be a better idea for the higher level containers, or Stores  \n##### 2. dart_json_mapper for Json\n    - [lists need decorator functions](https://github.com/k-paxian/dart-json-mapper/issues/17)\n    - for non-store types, is sort of working without the need for toJsons\n##### 3. RawSerialization\n    - consider serializing as raw byte stings?\n\n#### Todo\n\n* find a more explicit way to style with flex"
}